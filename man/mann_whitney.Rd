% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mann_whitney.R
\name{mann_whitney}
\alias{mann_whitney}
\title{Compare Two Groups Without Assuming Normal Data}
\usage{
mann_whitney(
  data,
  ...,
  group,
  weights = NULL,
  mu = 0,
  alternative = c("two.sided", "less", "greater"),
  conf.level = 0.95
)
}
\arguments{
\item{data}{Your survey data (a data frame or tibble)}

\item{...}{The variables you want to compare between groups. You can list
multiple variables or use helpers like \code{starts_with("satisfaction")}}

\item{group}{The categorical variable that defines your two groups (e.g., gender,
treatment/control). Must have exactly two groups.}

\item{weights}{Optional survey weights for population-representative results}

\item{mu}{The hypothesized difference (Default: 0, meaning no difference)}

\item{alternative}{Direction of the test:
\itemize{
\item \code{"two.sided"} (default): Test if groups are different
\item \code{"greater"}: Test if group 1 > group 2
\item \code{"less"}: Test if group 1 < group 2
}}

\item{conf.level}{Confidence level for effect size (Default: 0.95 = 95\%)}
}
\value{
Test results showing whether groups differ, including:
\itemize{
\item U and W statistics (test statistics)
\item Z-score and p-value (are groups different?)
\item Effect size r (how big is the difference?)
\item Rank means for each group (which group is higher?)
}
}
\description{
\code{mann_whitney()} compares two groups when your data isn't normally
distributed or when you have ordinal data (like ratings or rankings). It's the
go-to alternative when t-tests aren't appropriate.

Think of it as:
\itemize{
\item A robust way to compare groups that works with any data shape
\item Perfect for Likert scales, ratings, or skewed distributions
\item A test that compares the typical values between groups
}

The test tells you:
\itemize{
\item Whether one group tends to have higher values than the other
\item How strong the difference is (effect size)
\item Which group has higher average ranks
}
}
\details{
\subsection{Understanding the Results}{

\strong{P-value}: If p < 0.05, the groups are significantly different
\itemize{
\item p < 0.001: Very strong evidence of difference
\item p < 0.01: Strong evidence of difference
\item p < 0.05: Moderate evidence of difference
\item p â‰¥ 0.05: No significant difference found
}

\strong{Effect Size r} (How big is the difference?):
\itemize{
\item |r| < 0.1: Negligible difference
\item |r| ~ 0.1: Small difference
\item |r| ~ 0.3: Medium difference
\item |r| ~ 0.5: Large difference
\item |r| > 0.5: Very large difference
}

\strong{Rank Mean Difference}:
\itemize{
\item Positive: Group 1 tends to have higher values
\item Negative: Group 2 tends to have higher values
\item Zero: Groups have similar distributions
}
}

\subsection{When to Use This Test}{

Use Mann-Whitney test when:
\itemize{
\item Your data is not normally distributed (skewed, outliers)
\item You have ordinal data (rankings, Likert scales)
\item Sample sizes are small (< 30 per group)
\item You want a robust alternative to the t-test
\item You're comparing satisfaction ratings, income, or other skewed variables
}
}

\subsection{Advantages Over t-test}{
\itemize{
\item Works with any data distribution
\item Not affected by outliers
\item Valid for ordinal data
\item No assumptions about variance
\item More robust for real-world data
}
}

\subsection{Tips for Success}{
\itemize{
\item Each group should have at least 5 observations
\item The test compares distributions, not just means
\item Look at both p-values and effect sizes
\item Consider plotting the data to see the pattern
\item Use this for Likert scales and rating data
}
}
}
\examples{
# Load required packages and data
library(dplyr)
data(survey_data)

# Basic Mann-Whitney test (non-parametric comparison)
survey_data \%>\%
  mann_whitney(age, group = gender)

# Multiple variables
survey_data \%>\%
  mann_whitney(age, income, life_satisfaction, group = region)

# Using tidyselect helpers
survey_data \%>\%
  mann_whitney(starts_with("trust_"), group = gender)

# Weighted analysis
survey_data \%>\%
  mann_whitney(income, group = region, weights = sampling_weight)

# Grouped analysis (separate tests for each education level)
survey_data \%>\%
  group_by(education) \%>\%
  mann_whitney(life_satisfaction, group = gender)

# One-sided test
survey_data \%>\%
  mann_whitney(life_satisfaction, group = region, alternative = "greater")

# Store results for further analysis
result <- survey_data \%>\%
  mann_whitney(income, group = gender, weights = sampling_weight)
print(result)

}
\references{
Mann, H. B., & Whitney, D. R. (1947). On a test of whether one of two random
variables is stochastically larger than the other. The Annals of Mathematical
Statistics, 18(1), 50-60.

Wilcoxon, F. (1945). Individual comparisons by ranking methods. Biometrics
Bulletin, 1(6), 80-83.
}
\seealso{
\code{\link[stats]{wilcox.test}} for the base R Wilcoxon test function.

\code{\link[survey]{svyranktest}} for survey-weighted rank tests.

\code{\link{t_test}} for parametric t-tests.
}
