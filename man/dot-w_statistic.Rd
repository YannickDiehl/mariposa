% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/w_factory.R
\name{.w_statistic}
\alias{.w_statistic}
\title{Internal factory function for all weighted statistics}
\usage{
.w_statistic(
  data,
  ...,
  weights = NULL,
  na.rm = TRUE,
  stat_fn,
  stat_name,
  weighted_col,
  unweighted_col,
  class_name,
  extra_args = list()
)
}
\arguments{
\item{data}{Data frame or numeric vector (in summarise context)}

\item{...}{Variable selection (tidyselect)}

\item{weights}{Weight variable (unquoted)}

\item{na.rm}{Remove missing values}

\item{stat_fn}{Function(x, w) that computes the statistic. Returns scalar.
Takes (x, w) where x is numeric vector, w is weight vector or NULL.}

\item{stat_name}{Short name for the statistic (e.g., "mean", "sd")}

\item{weighted_col}{Column name for weighted results (e.g., "weighted_mean")}

\item{unweighted_col}{Column name for unweighted results (e.g., "mean")}

\item{class_name}{S3 class name (e.g., "w_mean")}

\item{extra_args}{Named list of extra arguments stored in the result object}
}
\value{
S3 object of class \code{class_name}, or scalar in summarise context
}
\description{
Handles summarise-context detection, data frame processing, grouped/ungrouped
flow, result structuring, and S3 object creation for all w_* functions.
}
\keyword{internal}
