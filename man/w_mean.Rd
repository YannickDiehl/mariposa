% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/w_mean.R
\name{w_mean}
\alias{w_mean}
\title{Calculate Population-Representative Averages}
\usage{
w_mean(data, ..., weights = NULL, na.rm = TRUE)
}
\arguments{
\item{data}{Your survey data (a data frame or tibble)}

\item{...}{The numeric variables you want to average. You can list multiple
variables or use helpers like \code{starts_with("income")}}

\item{weights}{Survey weights to make the average representative of your population.
Without weights, you get the simple sample average.}

\item{na.rm}{Remove missing values before calculating? (Default: TRUE)}
}
\value{
Population-weighted average(s) with sample size information
}
\description{
\code{w_mean()} calculates averages that accurately represent your population
by using survey weights. This ensures that groups who were over- or under-sampled
contribute appropriately to the final average.
}
\details{
\subsection{Why Use Weighted Means?}{

Survey samples rarely match the population perfectly. Weights correct for:
\itemize{
\item Oversampling of certain groups (weights < 1)
\item Undersampling of other groups (weights > 1)
\item Non-response patterns
\item Complex survey designs
}
}

\subsection{Understanding the Output}{
\itemize{
\item \strong{Weighted Mean}: The population-representative average
\item \strong{Effective N}: How many independent observations your weighted data represents
\item \strong{N}: Actual number of observations used
}
}

\subsection{Weighted vs Unweighted}{
\itemize{
\item \strong{Unweighted mean}: Average of your sample as-is
\item \strong{Weighted mean}: Estimated average for your entire population
\item These can differ substantially when your sample isn't representative
}
}

\subsection{Tips for Success}{
\itemize{
\item Always use weights for population estimates
\item Compare weighted and unweighted means to see sampling effects
\item Check effective sample size - very low values suggest high weight variation
\item Ensure your weights sum to a meaningful total (often population size)
}
}
}
\examples{
# Load required packages and data
library(dplyr)
data(survey_data)

# Basic weighted usage
survey_data \%>\% w_mean(age, weights = sampling_weight)

# Multiple variables
survey_data \%>\% w_mean(age, income, life_satisfaction, weights = sampling_weight)

# Grouped data
survey_data \%>\% group_by(region) \%>\% w_mean(age, weights = sampling_weight)

# In summarise context
survey_data \%>\% summarise(mean_age = w_mean(age, weights = sampling_weight))

# Unweighted (for comparison)
survey_data \%>\% w_mean(age)

}
